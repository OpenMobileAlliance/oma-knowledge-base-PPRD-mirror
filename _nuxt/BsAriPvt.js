import{_ as We}from"./hDKv-Jxo.js";import{u as Je,_ as Xe}from"./C4Kv-hJ6.js";import{_ as de,B as Z,C as L,g as K,A as ce,j as ae,k as S,i as z,E as $e,G as se,o as b,c as C,a as P,n as B,F,H as V,t as Y,I as N,J as U,m as x,X as Ye,d as ie,S as fe,R as pe,x as G,y as he,Y as Se,Z as Ze,$ as et,V as ze,a0 as De,D as ne,a1 as tt,a2 as at,a3 as ve,r as J,w as T,b as I,a4 as we,a5 as nt,a6 as rt,a7 as ot,a8 as lt,a9 as Ce,q as st,l as h}from"./Cj1FWmH7.js";import{_ as je}from"./DDIW1xK7.js";import"./CJMoMkiS.js";import"./C-v3KzvZ.js";import"./Cpj98o6Y.js";import"./BneCoJRQ.js";const it={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},ut={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}},dt={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs"}},ct={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},W={wrapper:"bg-gray-50 dark:bg-inherit border-2 border-neutral-200 dark:border-neutral-500 rounded-2xl p-5",header:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",footer:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",search:"pb-4",filter:"",table:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",tbody:"divide-y divide-gray-300 dark:divide-gray-700",tr:{base:"",selected:"bg-gray-300 dark:bg-gray-500",active:"hover:bg-gray-200 dark:hover:bg-gray-300 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap text-pretty ",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},pagination:"",perPage:[10,25,50,100],default:{perPage:10,sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"}}},le=Z(L.ui.strategy,L.ui.divider,dt),ft=K({components:{UIcon:ce,UAvatar:je},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>le.default.size,validator(e){return Object.keys(le.border.size.horizontal).includes(e)||Object.keys(le.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:s}=ae("divider",S(e,"ui"),le),n=z(()=>$e(se(a.value.wrapper.base,a.value.wrapper[e.orientation]),e.class)),t=z(()=>se(a.value.container.base,a.value.container[e.orientation])),g=z(()=>se(a.value.border.base,a.value.border[e.orientation],a.value.border.size[e.orientation][e.size],a.value.border.type[e.type]));return{ui:a,attrs:s,wrapperClass:n,containerClass:t,borderClass:g}}});function pt(e,a,s,n,t,g){const d=ce,u=je;return b(),C("div",U({class:e.wrapperClass},e.attrs),[P("div",{class:B(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(b(),C(F,{key:0},[P("div",{class:B(e.containerClass)},[V(e.$slots,"default",{},()=>[e.label?(b(),C("span",{key:0,class:B(e.ui.label)},Y(e.label),3)):e.icon?(b(),N(d,{key:1,name:e.icon,class:B(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(b(),N(u,U({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):x("",!0)])],2),P("div",{class:B(e.borderClass)},null,2)],64)):x("",!0)],16)}const vt=de(ft,[["render",pt]]),_=Z(L.ui.strategy,L.ui.badge,it),gt=K({inheritAttrs:!1,props:{size:{type:String,default:()=>_.default.size,validator(e){return Object.keys(_.size).includes(e)}},color:{type:String,default:()=>_.default.color,validator(e){return[...L.ui.colors,...Object.keys(_.color)].includes(e)}},variant:{type:String,default:()=>_.default.variant,validator(e){return[...Object.keys(_.variant),...Object.values(_.color).flatMap(a=>Object.keys(a))].includes(e)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:s}=ae("badge",S(e,"ui"),_),{size:n,rounded:t}=Ye({ui:a,props:e}),g=z(()=>{var u,v;const d=((v=(u=a.value.color)==null?void 0:u[e.color])==null?void 0:v[e.variant])||a.value.variant[e.variant];return $e(se(a.value.base,a.value.font,t.value,a.value.size[n.value],d==null?void 0:d.replaceAll("{color}",e.color)),e.class)});return{attrs:s,badgeClass:g}}});function bt(e,a,s,n,t,g){return b(),C("span",U({class:e.badgeClass},e.attrs),[V(e.$slots,"default",{},()=>[ie(Y(e.label),1)])],16)}const yt=de(gt,[["render",bt]]);let Pe=Symbol("headlessui.useid"),ht=0;function Be(){return pe(Pe,()=>`${++ht}`)()}function mt(e){fe(Pe,e)}function q(e){var a;if(e==null||e.value==null)return null;let s=(a=e.value.$el)!=null?a:e.value;return s instanceof Node?s:null}function ue(e,a,...s){if(e in a){let t=a[e];return typeof t=="function"?t(...s):t}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(a).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ue),n}function Oe(e,a){if(e)return e;let s=a??"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function kt(e,a){let s=G(Oe(e.value.type,e.value.as));return he(()=>{s.value=Oe(e.value.type,e.value.as)}),Se(()=>{var n;s.value||q(a)&&q(a)instanceof HTMLButtonElement&&!((n=q(a))!=null&&n.hasAttribute("type"))&&(s.value="button")}),s}var ye=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ye||{}),wt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(wt||{});function me({visible:e=!0,features:a=0,ourProps:s,theirProps:n,...t}){var g;let d=Ae(n,s),u=Object.assign(t,{props:d});if(e||a&2&&d.static)return ge(u);if(a&1){let v=(g=d.unmount)==null||g?0:1;return ue(v,{0(){return null},1(){return ge({...t,props:{...d,hidden:!0,style:{display:"none"}}})}})}return ge(u)}function ge({props:e,attrs:a,slots:s,slot:n,name:t}){var g,d;let{as:u,...v}=Ct(e,["unmount","static"]),k=(g=s.default)==null?void 0:g.call(s,n),O={};if(n){let y=!1,l=[];for(let[p,i]of Object.entries(n))typeof i=="boolean"&&(y=!0),i===!0&&l.push(p);y&&(O["data-headlessui-state"]=l.join(" "))}if(u==="template"){if(k=Ie(k??[]),Object.keys(v).length>0||Object.keys(a).length>0){let[y,...l]=k??[];if(!Bt(y)||l.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${t} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(v).concat(Object.keys(a)).map(c=>c.trim()).filter((c,D,H)=>H.indexOf(c)===D).sort((c,D)=>c.localeCompare(D)).map(c=>`  - ${c}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(c=>`  - ${c}`).join(`
`)].join(`
`));let p=Ae((d=y.props)!=null?d:{},v,O),i=Ze(y,p,!0);for(let c in p)c.startsWith("on")&&(i.props||(i.props={}),i.props[c]=p[c]);return i}return Array.isArray(k)&&k.length===1?k[0]:k}return et(u,Object.assign({},v,O),{default:()=>k})}function Ie(e){return e.flatMap(a=>a.type===F?Ie(a.children):[a])}function Ae(...e){if(e.length===0)return{};if(e.length===1)return e[0];let a={},s={};for(let n of e)for(let t in n)t.startsWith("on")&&typeof n[t]=="function"?(s[t]!=null||(s[t]=[]),s[t].push(n[t])):a[t]=n[t];if(a.disabled||a["aria-disabled"])return Object.assign(a,Object.fromEntries(Object.keys(s).map(n=>[n,void 0])));for(let n in s)Object.assign(a,{[n](t,...g){let d=s[n];for(let u of d){if(t instanceof Event&&t.defaultPrevented)return;u(t,...g)}}});return a}function Ct(e,a=[]){let s=Object.assign({},e);for(let n of a)n in s&&delete s[n];return s}function Bt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Ee=Symbol("Context");var te=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(te||{});function Ot(){return pe(Ee,null)}function $t(e){fe(Ee,e)}var X=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(X||{}),St=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(St||{});let Ue=Symbol("DisclosureContext");function ke(e){let a=pe(Ue,null);if(a===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,ke),s}return a}let Le=Symbol("DisclosurePanelContext");function zt(){return pe(Le,null)}let Dt=K({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:a,attrs:s}){let n=G(e.defaultOpen?0:1),t=G(null),g=G(null),d={buttonId:G(`headlessui-disclosure-button-${Be()}`),panelId:G(`headlessui-disclosure-panel-${Be()}`),disclosureState:n,panel:t,button:g,toggleDisclosure(){n.value=ue(n.value,{0:1,1:0})},closeDisclosure(){n.value!==1&&(n.value=1)},close(u){d.closeDisclosure();let v=u?u instanceof HTMLElement?u:u.value instanceof HTMLElement?q(u):q(d.button):q(d.button);v==null||v.focus()}};return fe(Ue,d),$t(z(()=>ue(n.value,{0:te.Open,1:te.Closed}))),()=>{let{defaultOpen:u,...v}=e,k={open:n.value===0,close:d.close};return me({theirProps:v,ourProps:{},slot:k,slots:a,attrs:s,name:"Disclosure"})}}}),jt=K({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:a,slots:s,expose:n}){let t=ke("DisclosureButton"),g=zt(),d=z(()=>g===null?!1:g.value===t.panelId.value);he(()=>{d.value||e.id!==null&&(t.buttonId.value=e.id)}),ze(()=>{d.value||(t.buttonId.value=null)});let u=G(null);n({el:u,$el:u}),d.value||Se(()=>{t.button.value=u.value});let v=kt(z(()=>({as:e.as,type:a.type})),u);function k(){var l;e.disabled||(d.value?(t.toggleDisclosure(),(l=q(t.button))==null||l.focus()):t.toggleDisclosure())}function O(l){var p;if(!e.disabled)if(d.value)switch(l.key){case X.Space:case X.Enter:l.preventDefault(),l.stopPropagation(),t.toggleDisclosure(),(p=q(t.button))==null||p.focus();break}else switch(l.key){case X.Space:case X.Enter:l.preventDefault(),l.stopPropagation(),t.toggleDisclosure();break}}function y(l){switch(l.key){case X.Space:l.preventDefault();break}}return()=>{var l;let p={open:t.disclosureState.value===0},{id:i,...c}=e,D=d.value?{ref:u,type:v.value,onClick:k,onKeydown:O}:{id:(l=t.buttonId.value)!=null?l:i,ref:u,type:v.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||q(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:k,onKeydown:O,onKeyup:y};return me({ourProps:D,theirProps:c,slot:p,attrs:a,slots:s,name:"DisclosureButton"})}}}),Pt=K({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:a,slots:s,expose:n}){let t=ke("DisclosurePanel");he(()=>{e.id!==null&&(t.panelId.value=e.id)}),ze(()=>{t.panelId.value=null}),n({el:t.panel,$el:t.panel}),fe(Le,t.panelId);let g=Ot(),d=z(()=>g!==null?(g.value&te.Open)===te.Open:t.disclosureState.value===0);return()=>{var u;let v={open:t.disclosureState.value===0,close:t.close},{id:k,...O}=e,y={id:(u=t.panelId.value)!=null?u:k,ref:t.panel};return me({ourProps:y,theirProps:O,slot:v,attrs:a,slots:s,features:ye.RenderStrategy|ye.Static,visible:d.value,name:"DisclosurePanel"})}}});const be=Z(L.ui.strategy,L.ui.accordion,ut),It=Z(L.ui.strategy,L.ui.button,De),At=K({components:{HDisclosure:Dt,HDisclosureButton:jt,HDisclosurePanel:Pt,UIcon:ce,UButton:ne},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>be.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>be.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:a}){const{ui:s,attrs:n}=ae("accordion",S(e,"ui"),be,S(e,"class")),t=z(()=>It),g=G([]),d=z(()=>g.value.map(({open:l})=>l));tt(d,(l,p)=>{for(const i in l){const c=p[i],D=l[i];!c&&D&&a("open",i)}},{immediate:!0});function u(l,p){!e.items[l].closeOthers&&e.multiple||g.value.forEach(i=>{i.open&&i.close(p.target)})}function v(l,p){const i=l;i.style.height="0",i.offsetHeight,i.style.height=i.scrollHeight+"px",i.addEventListener("transitionend",p,{once:!0})}function k(l){const p=l;p.style.height=p.scrollHeight+"px",p.offsetHeight}function O(l){const p=l;p.style.height="auto"}function y(l,p){const i=l;i.style.height="0",i.addEventListener("transitionend",p,{once:!0})}return mt(()=>Je("$SZ7s8siktv")),{ui:s,uiButton:t,attrs:n,buttonRefs:g,closeOthers:u,omit:at,onEnter:v,onBeforeLeave:k,onAfterEnter:O,onLeave:y}}}),Et={key:1};function Ut(e,a,s,n,t,g){const d=ce,u=ne,v=ve("HDisclosureButton"),k=ve("HDisclosurePanel"),O=ve("HDisclosure");return b(),C("div",{class:B(e.ui.wrapper)},[(b(!0),C(F,null,J(e.items,(y,l)=>(b(),N(O,{key:l,as:"div",class:B(e.ui.container),"default-open":e.defaultOpen||y.defaultOpen},{default:T(({open:p,close:i})=>[I(v,{ref_for:!0,ref:()=>e.buttonRefs[l]={open:p,close:i},as:"template",disabled:y.disabled,onClick:c=>e.closeOthers(l,c),onKeydown:[we(c=>e.closeOthers(l,c),["enter"]),we(c=>e.closeOthers(l,c),["space"])]},{default:T(()=>[V(e.$slots,"default",{item:y,index:l,open:p,close:i},()=>[I(u,U({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(y,["slot","disabled","content","defaultOpen"])}),{trailing:T(()=>[I(d,{name:p&&e.closeIcon?e.closeIcon:e.openIcon,class:B([p&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[y.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),I(nt,U({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:T(()=>[e.unmount?(b(),N(k,{key:0,class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:T(()=>[V(e.$slots,y.slot||"item",{item:y,index:l,open:p,close:i},()=>[ie(Y(y.content),1)])]),_:2},1032,["class"])):rt((b(),C("div",Et,[I(k,{class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:T(()=>[V(e.$slots,y.slot||"item",{item:y,index:l,open:p,close:i},()=>[ie(Y(y.content),1)])]),_:2},1032,["class"])],512)),[[ot,p]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const Lt=de(At,[["render",Ut]]),R=Z(L.ui.strategy,L.ui.pagination,ct),Ht=Z(L.ui.strategy,L.ui.button,De),Nt=K({components:{UButton:ne},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>R.default.size,validator(e){return Object.keys(Ht.size).includes(e)}},activeButton:{type:Object,default:()=>R.default.activeButton},inactiveButton:{type:Object,default:()=>R.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>R.default.firstButton},lastButton:{type:Object,default:()=>R.default.lastButton},prevButton:{type:Object,default:()=>R.default.prevButton},nextButton:{type:Object,default:()=>R.default.nextButton},divider:{type:String,default:"â€¦"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:a}){const{ui:s,attrs:n}=ae("pagination",S(e,"ui"),R,S(e,"class")),t=z({get(){return e.modelValue},set(i){a("update:modelValue",i)}}),g=z(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(i,c)=>c+1)),d=z(()=>{const i=g.value.length,c=t.value,D=Math.max(e.max,5),H=Math.floor((Math.min(D,i)-5)/2),A=c-H,ee=c+H,re=A-1>1,oe=ee+1<i,w=[];if(i<=D){for(let j=1;j<=i;j++)w.push(j);return w}if(w.push(1),re&&w.push(e.divider),!oe){const j=c+H+2-i;for(let M=c-H-j;M<=c-H-1;M++)w.push(M)}for(let j=Math.max(2,A);j<=Math.min(i,ee);j++)w.push(j);if(!re){const j=1-(c-H-2);for(let M=c+H+1;M<=c+H+j;M++)w.push(M)}return oe&&w.push(e.divider),ee<i&&w.push(i),w.length>=3&&w[1]===e.divider&&w[2]===3&&(w[1]=2),w.length>=3&&w[w.length-2]===e.divider&&w[w.length-1]===w.length&&(w[w.length-2]=w.length-1),w}),u=z(()=>t.value>1),v=z(()=>t.value<g.value.length);function k(){u.value&&(t.value=1)}function O(){v.value&&(t.value=g.value.length)}function y(i){typeof i!="string"&&(t.value=i)}function l(){u.value&&t.value--}function p(){v.value&&t.value++}return{ui:s,attrs:n,currentPage:t,pages:g,displayedPages:d,canGoLastOrNext:v,canGoFirstOrPrev:u,onClickPrev:l,onClickNext:p,onClickPage:y,onClickFirst:k,onClickLast:O}}});function Ft(e,a,s,n,t,g){const d=ne;return b(),C("div",U({class:e.ui.wrapper},e.attrs),[V(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(b(),N(d,U({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):x("",!0)]),V(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(b(),N(d,U({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):x("",!0)]),(b(!0),C(F,null,J(e.displayedPages,(u,v)=>(b(),N(d,U({key:`${u}-${v}`,size:e.size,disabled:e.disabled,label:`${u}`,ref_for:!0},u===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof u=="string","z-[1]":u===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(u)}),null,16,["size","disabled","label","class","onClick"]))),128)),V(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(b(),N(d,U({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):x("",!0)]),V(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(b(),N(d,U({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):x("",!0)])],16)}const Mt=de(Nt,[["render",Ft]]),Tt={key:0,class:"rounded-lg border"},Vt={class:"max-h-36 overflow-auto"},xt=["data-filter-key","data-filter-value"],qt=["calss"],_t=["ui"],Rt=["calss"],Gt=["index","calss"],ta=K({__name:"sh-dynamic-table",props:lt({dataUrl:{default:""},dataField:{default:()=>{}},columns:{default:()=>[]},ui:{default:()=>({})},header:{default:""},footer:{default:""},perPage:{default:W.default.perPage},class:{default:()=>{}}},{page:{type:Number,default:1},pageModifiers:{},q:{type:String,default:""},qModifiers:{}}),emits:["update:page","update:q"],async setup(e){let a,s;W.perPage;const n=e,{ui:t,attrs:g}=ae("sh-dynamic-table",S(n,"ui"),W,S(n,"class")),d=async()=>{const r=await $fetch(n.dataUrl);return n.dataField?r[n.dataField]:r},u=async()=>{k.value=await d(),v()},v=async()=>{O.value=[];let r=ee(k.value);r=re(r),r=oe(r),D.value=Fe(r),i.value=(r==null?void 0:r.length)>0?r.length:0;let o=y.value*p.value-p.value,f=o+p.value>i.value?i.value:o+p.value;for(let m=o;m<f;m++)O.value.push(r[m])},k=S([]),O=S([]),y=Ce(e,"page"),l=Ce(e,"q"),p=S(n.perPage),i=S(0),c=S([]),D=S([]),H=S([{label:"Quick Filters",icon:"i-heroicons-eye-dropper",slot:"quick-filters",defaultOpen:!0}]),A=S({}),ee=r=>{const o=n.columns.filter(f=>f.query).map(f=>f.name);return l.value.length>0?r.filter(f=>{var E;let m=!1;for(name of o)if(name==="Undefined"){if(l.value===""){m=!0;break}}else if((E=f[name])!=null&&E.toString().toLowerCase().includes(l.value.toLowerCase())){m=!0;break}return m}):r},re=r=>c.value.length>0?c.value.reduce((o,f)=>(o.length>0?o=o.filter(m=>m[f.name]&&f.value?m[f.name].toString()===f.value.toString():!1):o=r.filter(m=>m[f.name]&&f.value?m[f.name].toString()===f.value.toString():!1),o),[]):r,oe=r=>Object.keys(A).length>0&&r.sort?r.sort((o,f)=>xe(o[A.value.name],f[A.value.name],A.value.direction)):r,w=(r,o)=>c.value.filter(m=>m.name===r&&m.value===o).length>0,j=r=>r!=null&&r.title?r.title:"",M=(r,o)=>{if(o.type==="url"){const f=r[o==null?void 0:o.name]?r[o.name]:" ";return`<a href="${r[o==null?void 0:o.typeData]?r[o.typeData[0]]:" "}" target="_blank">${f}</a>`}else return r[o==null?void 0:o.name]?r[o.name]:" "},He=r=>{var o;return((o=A.value)==null?void 0:o.name)===r.name?A.value.direction==="asc"?W.default.sortAscIcon:W.default.sortDescIcon:W.default.sortButton.icon},Ne=()=>{const r=n.columns.reduce((o,f)=>f.filter?o+1:o,0);return r<2?"grid grid-cols-1 gap-4":r<3?"grid grid-cols-2 gap-2":r<4?"grid grid-cols-3 gap-1":"grid grid-cols-4 gap-1"},Fe=r=>{const o={};return n.columns.forEach(f=>{f.filter&&(o[f.name]={})}),r.forEach&&r.forEach(f=>{n.columns.forEach(m=>{if(Object.keys(f).includes(m.name)&&Object.keys(o).includes(m.name)){const E=f[m.name]?f[m.name]:"Undefined";o[m.name][E]=o[m.name][E]?o[m.name][E]+1:1}})}),o},Me=r=>{v()},Te=r=>{y.value=1,l.value=l.value.trim(),v()},Ve=r=>{const o=r.currentTarget.getAttribute("data-filter-key"),f=r.currentTarget.getAttribute("data-filter-value"),m=c.value.filter(E=>E.name===o&&E.value===f);m.length>0?c.value=c.value.filter(E=>E!=m[0]):c.value.push({name:o,value:f}),y.value=1,l.value="",v()},xe=(r,o,f)=>(r==null&&(r=""),o==null&&(o=""),r===o?0:f==="asc"?r<o?-1:1:r>o?-1:1),qe=r=>{A.value.name===r.name?A.value.direction=A.value.direction==="asc"?"desc":"asc":A.value={name:r.name,direction:"asc"},v()};return[a,s]=st(()=>u()),await a,s(),(r,o)=>{const f=We,m=Xe,E=vt,_e=yt,Re=Lt,Ge=ne,Ke=Mt;return b(),C("div",U({class:[h(t).wrapper,n.class]},h(g)),[n.header?(b(),C("div",{key:0,class:B(h(t).header)},[I(f,{value:n.header},null,8,["value"])],2)):x("",!0),P("div",{class:B(h(t).base)},[P("div",{class:B(h(t).search)},[I(m,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=$=>l.value=$),type:"text",onKeyup:Te,placeholder:"type a token to search for"},null,8,["modelValue"])],2),P("div",{class:B(h(t).filter)},[I(Re,{items:h(H),color:"primary",variant:"solid",size:"sm",class:"not-prose"},{"quick-filters":T(()=>[P("div",{class:B(Ne())},[(b(!0),C(F,null,J(n.columns,$=>(b(),C(F,null,[$.filter?(b(),C("div",Tt,[I(E,{label:$.title,class:"py-4"},null,8,["label"]),P("ul",Vt,[(b(!0),C(F,null,J(Object.keys(h(D)[$.name]),Q=>(b(),C("li",{"data-filter-key":$.name,"data-filter-value":Q,onClick:Ve,class:B(["list-none flex justify-between p-2 hover:cursor-pointer",[w($.name,Q)?h(t).tr.selected:"",h(t).tr.active]])},[P("span",null,Y(Q),1),I(_e,null,{default:T(()=>[ie(Y(h(D)[$.name][Q]),1)]),_:2},1024)],10,xt))),256))])])):x("",!0)],64))),256))],2)]),_:1},8,["items"])],2),P("table",{class:B(h(t).table)},[P("thead",{calss:h(t).thead},[P("tr",{ui:h(t)},[(b(!0),C(F,null,J(n.columns,$=>(b(),C("th",{class:B([h(t).th.base,h(t).th.padding,h(t).th.color,h(t).th.font,h(t).th.size])},[$.sortable?(b(),N(Ge,U({key:0,ref_for:!0},{...h(W).default.sortButton},{icon:He($),onClick:Q=>qe($)}),{default:T(()=>[I(f,{value:j($),class:"not-prose"},null,8,["value"])]),_:2},1040,["icon","onClick"])):(b(),N(f,{key:1,value:j($),class:"not-prose"},null,8,["value"]))],2))),256))],8,_t)],8,qt),P("tbody",{calss:h(t).tbody},[(b(!0),C(F,null,J(h(O),($,Q)=>(b(),C("tr",{index:Q,calss:h(t).tr.base},[(b(!0),C(F,null,J(n.columns,Qe=>(b(),C("td",{class:B([[h(t).td.base,h(t).td.padding,h(t).td.color,h(t).td.font,h(t).td.size],"not-prose"])},[I(f,{value:M($,Qe)},null,8,["value"])],2))),256))],8,Gt))),256))],8,Rt)],2),P("div",{class:B(h(t).pagination)},[I(Ke,{modelValue:y.value,"onUpdate:modelValue":o[1]||(o[1]=$=>y.value=$),"page-count":h(p),total:h(i),max:10,onClick:Me,"show-last":"","show-first":""},null,8,["modelValue","page-count","total"])],2)],2),n.footer?(b(),C("div",{key:1,class:B(h(t).footer)},[I(f,{value:n.footer},null,8,["value"])],2)):x("",!0)],16)}}});export{ta as default};
