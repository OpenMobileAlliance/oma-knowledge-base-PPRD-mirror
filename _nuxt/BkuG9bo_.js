import{_ as tt}from"./C-WCh2lU.js";import{u as at,_ as nt}from"./ConbgBLg.js";import{B as te,C as L,_ as de,g as Q,A as ce,j as ne,k as z,i as I,E as je,G as se,o as v,c as C,a as P,n as O,F as U,H as _,t as ee,I as N,J as E,m as H,X as rt,d as ie,S as fe,R as pe,x as K,y as ke,Y as ze,Z as ot,$ as lt,V as Pe,a0 as Ie,D as re,a1 as Ae,a2 as st,a3 as ve,r as J,w as V,b as T,a4 as Be,a5 as it,a6 as ut,a7 as dt,a8 as ct,a9 as ft,aa as $e,ab as be,q as pt,l as h}from"./yptnoy97.js";import{_ as Ee}from"./DUjXiPKJ.js";import"./BmqkaExa.js";import"./C-v3KzvZ.js";import"./BneCoJRQ.js";const gt={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},vt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}},bt={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs"}},yt={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},Y={wrapper:"bg-gray-50 dark:bg-inherit border-2 border-neutral-200 dark:border-neutral-500 rounded-2xl p-5",header:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",footer:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",search:"pb-4",filter:"",table:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",tbody:"divide-y divide-gray-300 dark:divide-gray-700",tr:{base:"",selected:"bg-gray-300 dark:bg-gray-500",active:"hover:bg-gray-200 dark:hover:bg-gray-300 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap text-pretty ",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},pagination:"",perPage:[10,25,50,100],default:{perPage:10,sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"}}},le=te(L.ui.strategy,L.ui.divider,bt),ht=Q({components:{UIcon:ce,UAvatar:Ee},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>le.default.size,validator(e){return Object.keys(le.border.size.horizontal).includes(e)||Object.keys(le.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:i}=ne("divider",z(e,"ui"),le),u=I(()=>je(se(n.value.wrapper.base,n.value.wrapper[e.orientation]),e.class)),a=I(()=>se(n.value.container.base,n.value.container[e.orientation])),b=I(()=>se(n.value.border.base,n.value.border[e.orientation],n.value.border.size[e.orientation][e.size],n.value.border.type[e.type]));return{ui:n,attrs:i,wrapperClass:u,containerClass:a,borderClass:b}}});function mt(e,n,i,u,a,b){const o=ce,r=Ee;return v(),C("div",E({class:e.wrapperClass},e.attrs),[P("div",{class:O(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(v(),C(U,{key:0},[P("div",{class:O(e.containerClass)},[_(e.$slots,"default",{},()=>[e.label?(v(),C("span",{key:0,class:O(e.ui.label)},ee(e.label),3)):e.icon?(v(),N(o,{key:1,name:e.icon,class:O(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(v(),N(r,E({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):H("",!0)])],2),P("div",{class:O(e.borderClass)},null,2)],64)):H("",!0)],16)}const kt=de(ht,[["render",mt]]),q=te(L.ui.strategy,L.ui.badge,gt),wt=Q({inheritAttrs:!1,props:{size:{type:String,default:()=>q.default.size,validator(e){return Object.keys(q.size).includes(e)}},color:{type:String,default:()=>q.default.color,validator(e){return[...L.ui.colors,...Object.keys(q.color)].includes(e)}},variant:{type:String,default:()=>q.default.variant,validator(e){return[...Object.keys(q.variant),...Object.values(q.color).flatMap(n=>Object.keys(n))].includes(e)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:i}=ne("badge",z(e,"ui"),q),{size:u,rounded:a}=rt({ui:n,props:e}),b=I(()=>{var r,m;const o=((m=(r=n.value.color)==null?void 0:r[e.color])==null?void 0:m[e.variant])||n.value.variant[e.variant];return je(se(n.value.base,n.value.font,a.value,n.value.size[u.value],o==null?void 0:o.replaceAll("{color}",e.color)),e.class)});return{attrs:i,badgeClass:b}}});function Ct(e,n,i,u,a,b){return v(),C("span",E({class:e.badgeClass},e.attrs),[_(e.$slots,"default",{},()=>[ie(ee(e.label),1)])],16)}const Ot=de(wt,[["render",Ct]]);let Le=Symbol("headlessui.useid"),Bt=0;function Se(){return pe(Le,()=>`${++Bt}`)()}function $t(e){fe(Le,e)}function R(e){var n;if(e==null||e.value==null)return null;let i=(n=e.value.$el)!=null?n:e.value;return i instanceof Node?i:null}function ue(e,n,...i){if(e in n){let a=n[e];return typeof a=="function"?a(...i):a}let u=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,ue),u}function De(e,n){if(e)return e;let i=n??"button";if(typeof i=="string"&&i.toLowerCase()==="button")return"button"}function St(e,n){let i=K(De(e.value.type,e.value.as));return ke(()=>{i.value=De(e.value.type,e.value.as)}),ze(()=>{var u;i.value||R(n)&&R(n)instanceof HTMLButtonElement&&!((u=R(n))!=null&&u.hasAttribute("type"))&&(i.value="button")}),i}var me=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(me||{}),Dt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Dt||{});function we({visible:e=!0,features:n=0,ourProps:i,theirProps:u,...a}){var b;let o=He(u,i),r=Object.assign(a,{props:o});if(e||n&2&&o.static)return ye(r);if(n&1){let m=(b=o.unmount)==null||b?0:1;return ue(m,{0(){return null},1(){return ye({...a,props:{...o,hidden:!0,style:{display:"none"}}})}})}return ye(r)}function ye({props:e,attrs:n,slots:i,slot:u,name:a}){var b,o;let{as:r,...m}=jt(e,["unmount","static"]),w=(b=i.default)==null?void 0:b.call(i,u),D={};if(u){let k=!1,s=[];for(let[g,d]of Object.entries(u))typeof d=="boolean"&&(k=!0),d===!0&&s.push(g);k&&(D["data-headlessui-state"]=s.join(" "))}if(r==="template"){if(w=Ue(w??[]),Object.keys(m).length>0||Object.keys(n).length>0){let[k,...s]=w??[];if(!zt(k)||s.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(m).concat(Object.keys(n)).map(p=>p.trim()).filter((p,$,j)=>j.indexOf(p)===$).sort((p,$)=>p.localeCompare($)).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let g=He((o=k.props)!=null?o:{},m,D),d=ot(k,g,!0);for(let p in g)p.startsWith("on")&&(d.props||(d.props={}),d.props[p]=g[p]);return d}return Array.isArray(w)&&w.length===1?w[0]:w}return lt(r,Object.assign({},m,D),{default:()=>w})}function Ue(e){return e.flatMap(n=>n.type===U?Ue(n.children):[n])}function He(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},i={};for(let u of e)for(let a in u)a.startsWith("on")&&typeof u[a]=="function"?(i[a]!=null||(i[a]=[]),i[a].push(u[a])):n[a]=u[a];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(i).map(u=>[u,void 0])));for(let u in i)Object.assign(n,{[u](a,...b){let o=i[u];for(let r of o){if(a instanceof Event&&a.defaultPrevented)return;r(a,...b)}}});return n}function jt(e,n=[]){let i=Object.assign({},e);for(let u of n)u in i&&delete i[u];return i}function zt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Me=Symbol("Context");var ae=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ae||{});function Pt(){return pe(Me,null)}function It(e){fe(Me,e)}var Z=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Z||{}),At=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(At||{});let Te=Symbol("DisclosureContext");function Ce(e){let n=pe(Te,null);if(n===null){let i=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Ce),i}return n}let Ne=Symbol("DisclosurePanelContext");function Et(){return pe(Ne,null)}let Lt=Q({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:n,attrs:i}){let u=K(e.defaultOpen?0:1),a=K(null),b=K(null),o={buttonId:K(`headlessui-disclosure-button-${Se()}`),panelId:K(`headlessui-disclosure-panel-${Se()}`),disclosureState:u,panel:a,button:b,toggleDisclosure(){u.value=ue(u.value,{0:1,1:0})},closeDisclosure(){u.value!==1&&(u.value=1)},close(r){o.closeDisclosure();let m=r?r instanceof HTMLElement?r:r.value instanceof HTMLElement?R(r):R(o.button):R(o.button);m==null||m.focus()}};return fe(Te,o),It(I(()=>ue(u.value,{0:ae.Open,1:ae.Closed}))),()=>{let{defaultOpen:r,...m}=e,w={open:u.value===0,close:o.close};return we({theirProps:m,ourProps:{},slot:w,slots:n,attrs:i,name:"Disclosure"})}}}),Ut=Q({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:n,slots:i,expose:u}){let a=Ce("DisclosureButton"),b=Et(),o=I(()=>b===null?!1:b.value===a.panelId.value);ke(()=>{o.value||e.id!==null&&(a.buttonId.value=e.id)}),Pe(()=>{o.value||(a.buttonId.value=null)});let r=K(null);u({el:r,$el:r}),o.value||ze(()=>{a.button.value=r.value});let m=St(I(()=>({as:e.as,type:n.type})),r);function w(){var s;e.disabled||(o.value?(a.toggleDisclosure(),(s=R(a.button))==null||s.focus()):a.toggleDisclosure())}function D(s){var g;if(!e.disabled)if(o.value)switch(s.key){case Z.Space:case Z.Enter:s.preventDefault(),s.stopPropagation(),a.toggleDisclosure(),(g=R(a.button))==null||g.focus();break}else switch(s.key){case Z.Space:case Z.Enter:s.preventDefault(),s.stopPropagation(),a.toggleDisclosure();break}}function k(s){switch(s.key){case Z.Space:s.preventDefault();break}}return()=>{var s;let g={open:a.disclosureState.value===0},{id:d,...p}=e,$=o.value?{ref:r,type:m.value,onClick:w,onKeydown:D}:{id:(s=a.buttonId.value)!=null?s:d,ref:r,type:m.value,"aria-expanded":a.disclosureState.value===0,"aria-controls":a.disclosureState.value===0||R(a.panel)?a.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:w,onKeydown:D,onKeyup:k};return we({ourProps:$,theirProps:p,slot:g,attrs:n,slots:i,name:"DisclosureButton"})}}}),Ht=Q({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:i,expose:u}){let a=Ce("DisclosurePanel");ke(()=>{e.id!==null&&(a.panelId.value=e.id)}),Pe(()=>{a.panelId.value=null}),u({el:a.panel,$el:a.panel}),fe(Ne,a.panelId);let b=Pt(),o=I(()=>b!==null?(b.value&ae.Open)===ae.Open:a.disclosureState.value===0);return()=>{var r;let m={open:a.disclosureState.value===0,close:a.close},{id:w,...D}=e,k={id:(r=a.panelId.value)!=null?r:w,ref:a.panel};return we({ourProps:k,theirProps:D,slot:m,attrs:n,slots:i,features:me.RenderStrategy|me.Static,visible:o.value,name:"DisclosurePanel"})}}});const he=te(L.ui.strategy,L.ui.accordion,vt),Mt=te(L.ui.strategy,L.ui.button,Ie),Tt=Q({components:{HDisclosure:Lt,HDisclosureButton:Ut,HDisclosurePanel:Ht,UIcon:ce,UButton:re},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>he.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>he.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:n}){const{ui:i,attrs:u}=ne("accordion",z(e,"ui"),he,z(e,"class")),a=I(()=>Mt),b=K([]),o=I(()=>b.value.map(({open:s})=>s));Ae(o,(s,g)=>{for(const d in s){const p=g[d],$=s[d];!p&&$&&n("open",d)}},{immediate:!0});function r(s,g){!e.items[s].closeOthers&&e.multiple||b.value.forEach(d=>{d.open&&d.close(g.target)})}function m(s,g){const d=s;d.style.height="0",d.offsetHeight,d.style.height=d.scrollHeight+"px",d.addEventListener("transitionend",g,{once:!0})}function w(s){const g=s;g.style.height=g.scrollHeight+"px",g.offsetHeight}function D(s){const g=s;g.style.height="auto"}function k(s,g){const d=s;d.style.height="0",d.addEventListener("transitionend",g,{once:!0})}return $t(()=>at("$SZ7s8siktv")),{ui:i,uiButton:a,attrs:u,buttonRefs:b,closeOthers:r,omit:st,onEnter:m,onBeforeLeave:w,onAfterEnter:D,onLeave:k}}}),Nt={key:1};function Ft(e,n,i,u,a,b){const o=ce,r=re,m=ve("HDisclosureButton"),w=ve("HDisclosurePanel"),D=ve("HDisclosure");return v(),C("div",{class:O(e.ui.wrapper)},[(v(!0),C(U,null,J(e.items,(k,s)=>(v(),N(D,{key:s,as:"div",class:O(e.ui.container),"default-open":e.defaultOpen||k.defaultOpen},{default:V(({open:g,close:d})=>[T(m,{ref_for:!0,ref:()=>e.buttonRefs[s]={open:g,close:d},as:"template",disabled:k.disabled,onClick:p=>e.closeOthers(s,p),onKeydown:[Be(p=>e.closeOthers(s,p),["enter"]),Be(p=>e.closeOthers(s,p),["space"])]},{default:V(()=>[_(e.$slots,"default",{item:k,index:s,open:g,close:d},()=>[T(r,E({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(k,["slot","disabled","content","defaultOpen"])}),{trailing:V(()=>[T(o,{name:g&&e.closeIcon?e.closeIcon:e.openIcon,class:O([g&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[k.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),T(it,E({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:V(()=>[e.unmount?(v(),N(w,{key:0,class:O([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:V(()=>[_(e.$slots,k.slot||"item",{item:k,index:s,open:g,close:d},()=>[ie(ee(k.content),1)])]),_:2},1032,["class"])):ut((v(),C("div",Nt,[T(w,{class:O([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:V(()=>[_(e.$slots,k.slot||"item",{item:k,index:s,open:g,close:d},()=>[ie(ee(k.content),1)])]),_:2},1032,["class"])],512)),[[dt,g]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const Vt=de(Tt,[["render",Ft]]),G=te(L.ui.strategy,L.ui.pagination,yt),_t=te(L.ui.strategy,L.ui.button,Ie),Rt=Q({components:{UButton:re},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>G.default.size,validator(e){return Object.keys(_t.size).includes(e)}},activeButton:{type:Object,default:()=>G.default.activeButton},inactiveButton:{type:Object,default:()=>G.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>G.default.firstButton},lastButton:{type:Object,default:()=>G.default.lastButton},prevButton:{type:Object,default:()=>G.default.prevButton},nextButton:{type:Object,default:()=>G.default.nextButton},divider:{type:String,default:"â€¦"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:n}){const{ui:i,attrs:u}=ne("pagination",z(e,"ui"),G,z(e,"class")),a=I({get(){return e.modelValue},set(d){n("update:modelValue",d)}}),b=I(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(d,p)=>p+1)),o=I(()=>{const d=b.value.length,p=a.value,$=Math.max(e.max,5),j=Math.floor((Math.min($,d)-5)/2),W=p-j,M=p+j,X=W-1>1,oe=M+1<d,y=[];if(d<=$){for(let A=1;A<=d;A++)y.push(A);return y}if(y.push(1),X&&y.push(e.divider),!oe){const A=p+j+2-d;for(let F=p-j-A;F<=p-j-1;F++)y.push(F)}for(let A=Math.max(2,W);A<=Math.min(d,M);A++)y.push(A);if(!X){const A=1-(p-j-2);for(let F=p+j+1;F<=p+j+A;F++)y.push(F)}return oe&&y.push(e.divider),M<d&&y.push(d),y.length>=3&&y[1]===e.divider&&y[2]===3&&(y[1]=2),y.length>=3&&y[y.length-2]===e.divider&&y[y.length-1]===y.length&&(y[y.length-2]=y.length-1),y}),r=I(()=>a.value>1),m=I(()=>a.value<b.value.length);function w(){r.value&&(a.value=1)}function D(){m.value&&(a.value=b.value.length)}function k(d){typeof d!="string"&&(a.value=d)}function s(){r.value&&a.value--}function g(){m.value&&a.value++}return{ui:i,attrs:u,currentPage:a,pages:b,displayedPages:o,canGoLastOrNext:m,canGoFirstOrPrev:r,onClickPrev:s,onClickNext:g,onClickPage:k,onClickFirst:w,onClickLast:D}}});function xt(e,n,i,u,a,b){const o=re;return v(),C("div",E({class:e.ui.wrapper},e.attrs),[_(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(v(),N(o,E({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):H("",!0)]),_(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(v(),N(o,E({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):H("",!0)]),(v(!0),C(U,null,J(e.displayedPages,(r,m)=>(v(),N(o,E({key:`${r}-${m}`,size:e.size,disabled:e.disabled,label:`${r}`,ref_for:!0},r===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof r=="string","z-[1]":r===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(r)}),null,16,["size","disabled","label","class","onClick"]))),128)),_(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(v(),N(o,E({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):H("",!0)]),_(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(v(),N(o,E({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):H("",!0)])],16)}const qt=de(Rt,[["render",xt]]),Gt={key:0,class:"rounded-lg border"},Kt={class:"max-h-36 overflow-auto"},Qt=["data-filter-key","data-filter-value"],Wt=["calss"],Yt=["ui"],Jt=["innerHTML"],Xt=["innerHTML"],Zt=["calss"],ea=["id","calss"],ta=["innerHTML","id"],da=Q({__name:"sh-dynamic-table",props:ct({dataUrl:{default:""},dataField:{default:()=>{}},columns:{default:()=>[]},ui:{default:()=>({})},header:{default:""},footer:{default:""},perPage:{default:Y.default.perPage},transformRawData:{default:()=>null},class:{default:()=>{}}},{page:{type:Number,default:1},pageModifiers:{},q:{type:String,default:""},qModifiers:{}}),emits:["update:page","update:q"],async setup(e){let n,i;const{$filterDDFObjects:u,$filterCommonObjects:a,$filterOmaEnablers:b}=ft();Y.perPage;const o=e,{ui:r,attrs:m}=ne("sh-dynamic-table",z(o,"ui"),Y,z(o,"class")),w=async()=>{try{d.value=[],g.value=[],be();let t=await $fetch(o.dataUrl);return o.transformRawData&&(o.transformRawData==="filterDDFObjects"?t=u(t):o.transformRawData==="filterCommonObjects"?t=a(t):o.transformRawData==="filterOmaEnablers"&&(t=b(t))),be(),o.dataField?D(t[o.dataField]):D(t)}catch(t){return console.log(t),[]}},D=t=>{var l;for(let c=0;c<t.length;c++)(l=o.columns)==null||l.forEach(f=>{if(f.name&&f.formatColumValue&&f.formatColumValue==="DY"&&t[c][f.name])try{let B=new Date(t[c][f.name]);B=B.getFullYear().toString(),t[c][f.name]=B}catch(B){console.log(B)}});return t},k=async()=>{g.value=await w(),s()},s=()=>{let t=A(g.value);t=F(t),t=Fe(t),X.value=qe(t),W.value=(t==null?void 0:t.length)>0?t.length:0;let l=p.value*j.value-j.value,c=l+j.value>W.value?W.value:l+j.value;d.value=[];for(let f=l;f<c;f++)d.value.push(t[f])},g=z([]),d=z([]),p=$e(e,"page"),$=$e(e,"q"),j=z(o.perPage),W=z(0),M=z([]),X=z([]),oe=z([{label:"Quick Filters",icon:"i-heroicons-eye-dropper",slot:"quick-filters",defaultOpen:!0}]),y=z({}),A=t=>{const l=o.columns.filter(c=>c.query).map(c=>c.name);return $.value.length>0?t.filter(c=>{var B;let f=!1;for(name of l)if(name==="Undefined"){if($.value===""){f=!0;break}}else if((B=c[name])!=null&&B.toString().toLowerCase().includes($.value.toLowerCase())){f=!0;break}return f}):t},F=t=>M.value.length>0?M.value.reduce((l,c)=>(l.length>0?l=l.filter(f=>f[c.name]&&c.value?f[c.name].toString()===c.value.toString():!1):l=t.filter(f=>f[c.name]&&c.value?f[c.name].toString()===c.value.toString():!1),l),[]):t,Fe=t=>Object.keys(y).length>0&&t&&typeof t.sort=="function"?t.sort((l,c)=>We(l[y.value.name],c[y.value.name],y.value.direction)):t,Ve=(t,l)=>M.value.filter(f=>f.name===t&&f.value===l).length>0,Oe=t=>t!=null&&t.title?t.title:"",_e=(t,l)=>{let c="";if(l.type==="url"){const f=t[l==null?void 0:l.name]?t[l.name]:"";c=`<a href="${t[l==null?void 0:l.typeData]?t[l.typeData[0]]:""}" target="_blank">${f}</a>`}else if(l.type==="subs")c=t[l==null?void 0:l.typeData]?t[l.typeData]:"";else{const f=t[l.name];c=(f==null?void 0:f.length)>0?f.toString():""}return c},Re=t=>{var l;return((l=y.value)==null?void 0:l.name)===t.name?y.value.direction==="asc"?Y.default.sortAscIcon:Y.default.sortDescIcon:Y.default.sortButton.icon},xe=()=>{const t=o.columns.reduce((l,c)=>c.filter?l+1:l,0);return t<2?"grid grid-cols-1 gap-4 min-h-48":t<3?"grid grid-cols-2 gap-2 min-h-48":t<4?"grid grid-cols-3 gap-1 min-h-48":t<5?"grid grid-cols-4 gap-1 min-h-48":"grid grid-cols-5 gap-1 min-h-48"},qe=t=>{const l={};return o.columns.forEach(c=>{c.filter&&(l[c.name]={})}),t&&typeof t.forEach=="function"&&t.forEach(c=>{o.columns.forEach(f=>{if(Object.keys(c).includes(f.name)&&Object.keys(l).includes(f.name)){const B=c[f.name]?c[f.name]:"Undefined";l[f.name][B]=l[f.name][B]?l[f.name][B]+1:1}})}),l},Ge=t=>{s()},Ke=t=>{p.value=1,$.value=$.value.trim(),s()},Qe=t=>{const l=t.currentTarget.getAttribute("data-filter-key"),c=t.currentTarget.getAttribute("data-filter-value"),f=M.value.filter(B=>B.name===l&&B.value===c);f.length>0?M.value=M.value.filter(B=>B!=f[0]):M.value.push({name:l,value:c}),p.value=1,$.value="",s()},We=(t,l,c)=>(t==null&&(t=""),l==null&&(l=""),t===l?0:c==="asc"?t<l?-1:1:t>l?-1:1),Ye=t=>{y.value.name===t.name?y.value.direction=y.value.direction==="asc"?"desc":"asc":y.value={name:t.name,direction:"asc"},s()};return Ae(g,(t,l)=>{s(),be()},{immediate:!0}),[n,i]=pt(()=>k()),await n,i(),(t,l)=>{const c=tt,f=nt,B=kt,Je=Ot,Xe=Vt,Ze=re,et=qt;return v(),C("div",E({class:[h(r).wrapper,o.class]},h(m)),[o.header?(v(),C("div",{key:0,class:O(h(r).header)},[o.header?(v(),N(c,{key:0,value:o.header},null,8,["value"])):H("",!0)],2)):H("",!0),P("div",{class:O(h(r).base)},[P("div",{class:O(h(r).search)},[T(f,{modelValue:$.value,"onUpdate:modelValue":l[0]||(l[0]=S=>$.value=S),type:"text",onKeyup:Ke,placeholder:"type a token to search for"},null,8,["modelValue"])],2),P("div",{class:O(h(r).filter)},[T(Xe,{items:h(oe),color:"primary",variant:"solid",size:"sm",class:"not-prose"},{"quick-filters":V(()=>[P("div",{class:O(xe())},[(v(!0),C(U,null,J(o.columns,S=>(v(),C(U,null,[S.filter?(v(),C("div",Gt,[T(B,{label:S.title,class:"py-4"},null,8,["label"]),P("ul",Kt,[(v(!0),C(U,null,J(Object.keys(h(X)[S.name]),x=>(v(),C("li",{"data-filter-key":S.name,"data-filter-value":x,onClick:Qe,class:O(["list-none flex justify-between p-2 hover:cursor-pointer",[Ve(S.name,x)?h(r).tr.selected:"",h(r).tr.active]])},[P("span",null,ee(x),1),T(Je,null,{default:V(()=>[ie(ee(h(X)[S.name][x]),1)]),_:2},1024)],10,Qt))),256))])])):H("",!0)],64))),256))],2)]),_:1},8,["items"])],2),P("table",{class:O(h(r).table)},[P("thead",{calss:h(r).thead},[P("tr",{ui:h(r)},[(v(!0),C(U,null,J(o.columns,S=>(v(),C(U,null,[S.hide!==!0?(v(),C("th",{key:0,class:O([h(r).th.base,h(r).th.padding,h(r).th.color,h(r).th.font,h(r).th.size])},[S.sortable?(v(),N(Ze,E({key:0,ref_for:!0},{...h(Y).default.sortButton},{icon:Re(S),onClick:x=>Ye(S)}),{default:V(()=>[P("span",{innerHTML:Oe(S),class:"not-prose"},null,8,Jt)]),_:2},1040,["icon","onClick"])):(v(),C("span",{key:1,innerHTML:Oe(S),class:"not-prose"},null,8,Xt))],2)):H("",!0)],64))),256))],8,Yt)],8,Wt),P("tbody",{calss:h(r).tbody},[(v(!0),C(U,null,J(h(d),(S,x)=>(v(),C("tr",{id:`${x}-${Date.now()}`,calss:h(r).tr.base},[(v(!0),C(U,null,J(o.columns,(ge,aa)=>(v(),C(U,null,[ge.hide?H("",!0):(v(),C("td",{key:0,innerHTML:_e(S,ge),id:`${ge.name}-${x}-${Date.now()}`,class:O([[h(r).td.base,h(r).td.padding,h(r).td.color,h(r).td.font,h(r).td.size],"not-prose"])},null,10,ta))],64))),256))],8,ea))),256))],8,Zt)],2),P("div",{class:O(h(r).pagination)},[T(et,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=S=>p.value=S),"page-count":h(j),total:h(W),max:10,onClick:Ge,"show-last":"","show-first":""},null,8,["modelValue","page-count","total"])],2)],2),o.footer?(v(),C("div",{key:1,class:O(h(r).footer)},[T(c,{value:o.footer},null,8,["value"])],2)):H("",!0)],16)}}});export{da as default};
