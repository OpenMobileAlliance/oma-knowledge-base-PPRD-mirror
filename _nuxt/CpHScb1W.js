import{_ as et}from"./lDR2QKoV.js";import{g as X,J as Z,Z as $e,$ as Be,a0 as te,U as ze,a1 as tt,i as I,a2 as ue,a3 as he,K as ye,X as Ie,a4 as at,a5 as nt,a6 as st,a7 as Se,S as Pe,a8 as ne,q as ae,s as E,_ as ce,v as fe,x as _e,j as se,k as O,z as je,A as ie,o as c,c as g,a as y,n as B,F as x,B as G,t as W,C as N,D as L,m as M,a9 as ot,d as de,aa as Ae,y as oe,ab as Le,ac as lt,ad as rt,ae as ge,r as J,w as R,b as F,af as De,ag as it,ah as ut,ai as dt,T as ct,aj as ft,ak as pt,al as Oe,am as ee,G as vt,l as f,an as gt}from"./C0dGtcG8.js";import{_ as bt}from"./CffI9zhv.js";import"./DjrPb55w.js";import"./C-v3KzvZ.js";import"./BneCoJRQ.js";const ht={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},yt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}},mt={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs"}},kt={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}};var wt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(wt||{});let Ee=Symbol("DisclosureContext");function me(e){let d=Pe(Ee,null);if(d===null){let $=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace($,me),$}return d}let Ue=Symbol("DisclosurePanelContext");function Ct(){return Pe(Ue,null)}let $t=X({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:d,attrs:$}){let m=Z(e.defaultOpen?0:1),s=Z(null),h=Z(null),p={buttonId:Z(`headlessui-disclosure-button-${$e()}`),panelId:Z(`headlessui-disclosure-panel-${$e()}`),disclosureState:m,panel:s,button:h,toggleDisclosure(){m.value=Be(m.value,{0:1,1:0})},closeDisclosure(){m.value!==1&&(m.value=1)},close(n){p.closeDisclosure();let r=n?n instanceof HTMLElement?n:n.value instanceof HTMLElement?te(n):te(p.button):te(p.button);r==null||r.focus()}};return ze(Ee,p),tt(I(()=>Be(m.value,{0:ue.Open,1:ue.Closed}))),()=>{let{defaultOpen:n,...r}=e,z={open:m.value===0,close:p.close};return he({theirProps:r,ourProps:{},slot:z,slots:d,attrs:$,name:"Disclosure"})}}}),Bt=X({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:d,slots:$,expose:m}){let s=me("DisclosureButton"),h=Ct(),p=I(()=>h===null?!1:h.value===s.panelId.value);ye(()=>{p.value||e.id!==null&&(s.buttonId.value=e.id)}),Ie(()=>{p.value||(s.buttonId.value=null)});let n=Z(null);m({el:n,$el:n}),p.value||at(()=>{s.button.value=n.value});let r=nt(I(()=>({as:e.as,type:d.type})),n);function z(){var u;e.disabled||(p.value?(s.toggleDisclosure(),(u=te(s.button))==null||u.focus()):s.toggleDisclosure())}function U(u){var v;if(!e.disabled)if(p.value)switch(u.key){case ne.Space:case ne.Enter:u.preventDefault(),u.stopPropagation(),s.toggleDisclosure(),(v=te(s.button))==null||v.focus();break}else switch(u.key){case ne.Space:case ne.Enter:u.preventDefault(),u.stopPropagation(),s.toggleDisclosure();break}}function S(u){switch(u.key){case ne.Space:u.preventDefault();break}}return()=>{var u;let v={open:s.disclosureState.value===0},{id:i,...k}=e,_=p.value?{ref:n,type:r.value,onClick:z,onKeydown:U}:{id:(u=s.buttonId.value)!=null?u:i,ref:n,type:r.value,"aria-expanded":s.disclosureState.value===0,"aria-controls":s.disclosureState.value===0||te(s.panel)?s.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:z,onKeydown:U,onKeyup:S};return he({ourProps:_,theirProps:k,slot:v,attrs:d,slots:$,name:"DisclosureButton"})}}}),St=X({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:d,slots:$,expose:m}){let s=me("DisclosurePanel");ye(()=>{e.id!==null&&(s.panelId.value=e.id)}),Ie(()=>{s.panelId.value=null}),m({el:s.panel,$el:s.panel}),ze(Ue,s.panelId);let h=st(),p=I(()=>h!==null?(h.value&ue.Open)===ue.Open:s.disclosureState.value===0);return()=>{var n;let r={open:s.disclosureState.value===0,close:s.close},{id:z,...U}=e,S={id:(n=s.panelId.value)!=null?n:z,ref:s.panel};return he({ourProps:S,theirProps:U,slot:r,attrs:d,slots:$,features:Se.RenderStrategy|Se.Static,visible:p.value,name:"DisclosurePanel"})}}});const Y={wrapper:"bg-gray-50 dark:bg-inherit border-2 border-neutral-200 dark:border-neutral-500 rounded-2xl p-5",header:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",footer:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",search:"pb-4",filter:"",table:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",tbody:"divide-y divide-gray-300 dark:divide-gray-700",tr:{base:"",selected:"bg-gray-300 dark:bg-gray-500",active:"hover:bg-gray-200 dark:hover:bg-gray-300 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap text-pretty ",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},pagination:"",perPage:[10,25,50,100],default:{perPage:10,sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5 font-semibold text-sm"}}},re=ae(E.ui.strategy,E.ui.divider,mt),Dt=X({components:{UIcon:fe,UAvatar:_e},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>re.default.size,validator(e){return Object.keys(re.border.size.horizontal).includes(e)||Object.keys(re.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:d,attrs:$}=se("divider",O(e,"ui"),re),m=I(()=>je(ie(d.value.wrapper.base,d.value.wrapper[e.orientation]),e.class)),s=I(()=>ie(d.value.container.base,d.value.container[e.orientation])),h=I(()=>ie(d.value.border.base,d.value.border[e.orientation],d.value.border.size[e.orientation][e.size],d.value.border.type[e.type]));return{ui:d,attrs:$,wrapperClass:m,containerClass:s,borderClass:h}}});function Ot(e,d,$,m,s,h){const p=fe,n=_e;return c(),g("div",L({class:e.wrapperClass},e.attrs),[y("div",{class:B(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(c(),g(x,{key:0},[y("div",{class:B(e.containerClass)},[G(e.$slots,"default",{},()=>[e.label?(c(),g("span",{key:0,class:B(e.ui.label)},W(e.label),3)):e.icon?(c(),N(p,{key:1,name:e.icon,class:B(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(c(),N(n,L({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):M("",!0)])],2),y("div",{class:B(e.borderClass)},null,2)],64)):M("",!0)],16)}const zt=ce(Dt,[["render",Ot]]),K=ae(E.ui.strategy,E.ui.badge,ht),It=X({inheritAttrs:!1,props:{size:{type:String,default:()=>K.default.size,validator(e){return Object.keys(K.size).includes(e)}},color:{type:String,default:()=>K.default.color,validator(e){return[...E.ui.colors,...Object.keys(K.color)].includes(e)}},variant:{type:String,default:()=>K.default.variant,validator(e){return[...Object.keys(K.variant),...Object.values(K.color).flatMap(d=>Object.keys(d))].includes(e)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:d,attrs:$}=se("badge",O(e,"ui"),K),{size:m,rounded:s}=ot({ui:d,props:e}),h=I(()=>{var n,r;const p=((r=(n=d.value.color)==null?void 0:n[e.color])==null?void 0:r[e.variant])||d.value.variant[e.variant];return je(ie(d.value.base,d.value.font,s.value,d.value.size[m.value],p==null?void 0:p.replaceAll("{color}",e.color)),e.class)});return{attrs:$,badgeClass:h}}});function Pt(e,d,$,m,s,h){return c(),g("span",L({class:e.badgeClass},e.attrs),[G(e.$slots,"default",{},()=>[de(W(e.label),1)])],16)}const _t=ce(It,[["render",Pt]]),be=ae(E.ui.strategy,E.ui.accordion,yt),jt=ae(E.ui.strategy,E.ui.button,Ae),At=X({components:{HDisclosure:$t,HDisclosureButton:Bt,HDisclosurePanel:St,UIcon:fe,UButton:oe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>be.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>be.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:d}){const{ui:$,attrs:m}=se("accordion",O(e,"ui"),be,O(e,"class")),s=I(()=>jt),h=Z([]),p=I(()=>h.value.map(({open:u})=>u));Le(p,(u,v)=>{for(const i in u){const k=v[i],_=u[i];!k&&_&&d("open",i)}},{immediate:!0});function n(u,v){!e.items[u].closeOthers&&e.multiple||h.value.forEach(i=>{i.open&&i.close(v.target)})}function r(u,v){const i=u;i.style.height="0",i.offsetHeight,i.style.height=i.scrollHeight+"px",i.addEventListener("transitionend",v,{once:!0})}function z(u){const v=u;v.style.height=v.scrollHeight+"px",v.offsetHeight}function U(u){const v=u;v.style.height="auto"}function S(u,v){const i=u;i.style.height="0",i.addEventListener("transitionend",v,{once:!0})}return lt(()=>ct("$SZ7s8siktv")),{ui:$,uiButton:s,attrs:m,buttonRefs:h,closeOthers:n,omit:rt,onEnter:r,onBeforeLeave:z,onAfterEnter:U,onLeave:S}}}),Lt={key:1};function Et(e,d,$,m,s,h){const p=fe,n=oe,r=ge("HDisclosureButton"),z=ge("HDisclosurePanel"),U=ge("HDisclosure");return c(),g("div",{class:B(e.ui.wrapper)},[(c(!0),g(x,null,J(e.items,(S,u)=>(c(),N(U,{key:u,as:"div",class:B(e.ui.container),"default-open":e.defaultOpen||S.defaultOpen},{default:R(({open:v,close:i})=>[F(r,{ref_for:!0,ref:()=>e.buttonRefs[u]={open:v,close:i},as:"template",disabled:S.disabled,onClick:k=>e.closeOthers(u,k),onKeydown:[De(k=>e.closeOthers(u,k),["enter"]),De(k=>e.closeOthers(u,k),["space"])]},{default:R(()=>[G(e.$slots,"default",{item:S,index:u,open:v,close:i},()=>[F(n,L({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(S,["slot","disabled","content","defaultOpen"])}),{trailing:R(()=>[F(p,{name:v&&e.closeIcon?e.closeIcon:e.openIcon,class:B([v&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[S.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),F(it,L({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:R(()=>[e.unmount?(c(),N(z,{key:0,class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:R(()=>[G(e.$slots,S.slot||"item",{item:S,index:u,open:v,close:i},()=>[de(W(S.content),1)])]),_:2},1032,["class"])):ut((c(),g("div",Lt,[F(z,{class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:R(()=>[G(e.$slots,S.slot||"item",{item:S,index:u,open:v,close:i},()=>[de(W(S.content),1)])]),_:2},1032,["class"])],512)),[[dt,v]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const Ut=ce(At,[["render",Et]]),Q=ae(E.ui.strategy,E.ui.pagination,kt),xt=ae(E.ui.strategy,E.ui.button,Ae),Ft=X({components:{UButton:oe},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>Q.default.size,validator(e){return Object.keys(xt.size).includes(e)}},activeButton:{type:Object,default:()=>Q.default.activeButton},inactiveButton:{type:Object,default:()=>Q.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>Q.default.firstButton},lastButton:{type:Object,default:()=>Q.default.lastButton},prevButton:{type:Object,default:()=>Q.default.prevButton},nextButton:{type:Object,default:()=>Q.default.nextButton},divider:{type:String,default:"â€¦"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:d}){const{ui:$,attrs:m}=se("pagination",O(e,"ui"),Q,O(e,"class")),s=I({get(){return e.modelValue},set(i){d("update:modelValue",i)}}),h=I(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(i,k)=>k+1)),p=I(()=>{const i=h.value.length,k=s.value,_=Math.max(e.max,5),P=Math.floor((Math.min(_,i)-5)/2),H=k-P,j=k+P,V=H-1>1,T=j+1<i,b=[];if(i<=_){for(let A=1;A<=i;A++)b.push(A);return b}if(b.push(1),V&&b.push(e.divider),!T){const A=k+P+2-i;for(let D=k-P-A;D<=k-P-1;D++)b.push(D)}for(let A=Math.max(2,H);A<=Math.min(i,j);A++)b.push(A);if(!V){const A=1-(k-P-2);for(let D=k+P+1;D<=k+P+A;D++)b.push(D)}return T&&b.push(e.divider),j<i&&b.push(i),b.length>=3&&b[1]===e.divider&&b[2]===3&&(b[1]=2),b.length>=3&&b[b.length-2]===e.divider&&b[b.length-1]===b.length&&(b[b.length-2]=b.length-1),b}),n=I(()=>s.value>1),r=I(()=>s.value<h.value.length);function z(){n.value&&(s.value=1)}function U(){r.value&&(s.value=h.value.length)}function S(i){typeof i!="string"&&(s.value=i)}function u(){n.value&&s.value--}function v(){r.value&&s.value++}return{ui:$,attrs:m,currentPage:s,pages:h,displayedPages:p,canGoLastOrNext:r,canGoFirstOrPrev:n,onClickPrev:u,onClickNext:v,onClickPage:S,onClickFirst:z,onClickLast:U}}});function Mt(e,d,$,m,s,h){const p=oe;return c(),g("div",L({class:e.ui.wrapper},e.attrs),[G(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(c(),N(p,L({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):M("",!0)]),G(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(c(),N(p,L({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):M("",!0)]),(c(!0),g(x,null,J(e.displayedPages,(n,r)=>(c(),N(p,L({key:`${n}-${r}`,size:e.size,disabled:e.disabled,label:`${n}`,ref_for:!0},n===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof n=="string","z-[1]":n===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(n)}),null,16,["size","disabled","label","class","onClick"]))),128)),G(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(c(),N(p,L({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):M("",!0)]),G(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(c(),N(p,L({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):M("",!0)])],16)}const Ht=ce(Ft,[["render",Mt]]),Nt={class:"flex flex-row gap-2"},Vt={class:"text-base flex flex-row"},Tt=y("span",{class:"pr-2"},"Show: ",-1),qt=["value"],Rt={class:"pl-4"},Gt={class:"pl-8 grow"},Kt={key:0,class:"rounded-lg border"},Qt={class:"max-h-36 overflow-auto"},Jt=["data-filter-key","data-filter-value"],Wt={class:"w-full overflow-x-auto"},Xt=["calss"],Yt=["ui"],Zt=["innerHTML"],ea=["innerHTML"],ta=["calss"],aa=["id","calss"],na=["innerHTML","id"],sa={class:"flex flex-row justify-between"},oa={class:"text-xs"},pa=X({__name:"sh-dynamic-table",props:ft({dataUrl:{default:""},dataField:{default:()=>{}},columns:{default:()=>[]},ui:{default:()=>({})},header:{default:""},footer:{default:""},perPage:{default:Y.default.perPage},transformRawData:{default:()=>null},class:{default:()=>{}}},{page:{type:Number,default:1},pageModifiers:{},q:{type:String,default:""},qModifiers:{}}),emits:["update:page","update:q"],async setup(e){let d,$;const{$filterDDFObjects:m,$filterCommonObjects:s,$filterOmaEnablers:h}=pt(),p=Y.perPage,n=e,{ui:r,attrs:z}=se("sh-dynamic-table",O(n,"ui"),Y,O(n,"class")),U=async()=>{try{_.value=[],k.value=[],ee();let t=await $fetch(n.dataUrl);return n.transformRawData&&(n.transformRawData==="filterDDFObjects"?t=m(t):n.transformRawData==="filterCommonObjects"?t=s(t):n.transformRawData==="filterOmaEnablers"&&(t=h(t))),ee(),n.dataField?S(t[n.dataField]):S(t)}catch(t){return console.log(t),[]}},S=t=>{var a;for(let o=0;o<t.length;o++)(a=n.columns)==null||a.forEach(l=>{if(l.name&&l.formatColumValue&&l.formatColumValue==="DY"&&t[o][l.name])try{let w=new Date(t[o][l.name]);w=w.getFullYear().toString(),t[o][l.name]=w}catch(w){console.log(w)}});return t},u=async()=>{k.value=await U(),ee(),i()},v=O(""),i=()=>{let t=xe(k.value);if(t=Fe(t),t=Me(t),b.value=qe(t),V.value=(t==null?void 0:t.length)>0?t.length:0,j.value===-1){for(let a=0;a<V.value;a++)_.value.push(t[a]);v.value=`Showing ${V.value} items`}else{let a=P.value*j.value-j.value,o=a+j.value>V.value?V.value:a+j.value;v.value="",_.value=[],ee();for(let l=a;l<o;l++)_.value.push(t[l]);v.value=`Showing ${o>0?a+1:0} to ${o} out of ${V.value} items`}ee()},k=O([]),_=O([]),P=Oe(e,"page"),H=Oe(e,"q"),j=O(n.perPage),V=O(0),T=O([]),b=O([]),A=O([{label:"Quick Filters",icon:"i-heroicons-eye-dropper",slot:"quick-filters",defaultOpen:!0}]),D=O({}),xe=t=>{const a=n.columns.filter(o=>o.query).map(o=>o.name);return H.value.length>0?t.filter(o=>{var w;let l=!1;for(name of a)if(name==="Undefined"){if(H.value===""){l=!0;break}}else if((w=o[name])!=null&&w.toString().toLowerCase().includes(H.value.toLowerCase())){l=!0;break}return l}):t},Fe=t=>T.value.length>0?T.value.reduce((a,o)=>(a.length>0?a=a.filter(l=>l[o.name]&&o.value?l[o.name].toString()===o.value.toString():!1):a=t.filter(l=>l[o.name]&&o.value?l[o.name].toString()===o.value.toString():!1),a),[]):t,Me=t=>Object.keys(D).length>0&&t&&typeof t.sort=="function"?t.sort((a,o)=>Je(a[D.value.name],o[D.value.name],D.value.direction)):t,He=(t,a)=>T.value.filter(l=>l.name===t&&l.value===a).length>0,ke=t=>t!=null&&t.title?t.title:"",Ne=(t,a)=>{let o="";if(a.type==="url"){const l=t[a==null?void 0:a.name]?t[a.name]:"";o=`<a href="${t[a==null?void 0:a.typeData]?t[a.typeData[0]]:""}" target="_blank">${l}</a>`}else if(a.type==="subs")o=t[a==null?void 0:a.typeData]?t[a.typeData]:"";else{const l=t[a.name];o=(l==null?void 0:l.length)>0?l.toString():""}return o},Ve=t=>{var a;return((a=D.value)==null?void 0:a.name)===t.name?D.value.direction==="asc"?Y.default.sortAscIcon:Y.default.sortDescIcon:Y.default.sortButton.icon},Te=()=>{const t=n.columns.reduce((a,o)=>o.filter?a+1:a,0);return t<2?"grid grid-cols-1 gap-4 min-h-48":t<3?"grid grid-cols-2 gap-2 min-h-48":t<4?"grid grid-cols-3 gap-1 min-h-48":t<5?"grid grid-cols-4 gap-1 min-h-48":"grid grid-cols-5 gap-1 min-h-48"},qe=t=>{const a={};return n.columns.forEach(o=>{o.filter&&(a[o.name]={})}),t&&typeof t.forEach=="function"&&t.forEach(o=>{n.columns.forEach(l=>{if(Object.keys(o).includes(l.name)&&Object.keys(a).includes(l.name)){const w=o[l.name]?o[l.name]:"Undefined";a[l.name][w]=a[l.name][w]?a[l.name][w]+1:1}})}),a},we=t=>{let a="";return typeof t=="string"&&(t.includes(",")||t.includes('"')||t.includes("#")||t.includes(`
`))?(a=t.replace(/"/g,'"'),a=a.replace(/,/g," "),a=a.replace(/\n/g," ")):t?a=t.length>0?t.toString():" ":a="NULL",`${a}`},Re=()=>{let t="";const a=n.columns.map(w=>`${we(w.title)}`);t+=a.join(",")+`
`,_.value.forEach((w,Ce)=>{const pe=n.columns.map(ve=>`${we(w[ve.name])}`);t+=pe.join(",")+`
`});const o="data:text/csv;charset=utf-8i,"+encodeURIComponent(t),l=document.createElement("a");l.setAttribute("href",o),l.setAttribute("download","table_data.csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l)},Ge=t=>{i()},Ke=t=>{P.value=1,H.value=H.value.trim(),i()},Qe=t=>{const a=t.currentTarget.getAttribute("data-filter-key"),o=t.currentTarget.getAttribute("data-filter-value"),l=T.value.filter(w=>w.name===a&&w.value===o);l.length>0?T.value=T.value.filter(w=>w!=l[0]):T.value.push({name:a,value:o}),P.value=1,H.value="",i()},Je=(t,a,o)=>(t==null&&(t=""),a==null&&(a=""),t===a?0:o==="asc"?t<a?-1:1:t>a?-1:1),We=t=>{D.value.name===t.name?D.value.direction=D.value.direction==="asc"?"desc":"asc":D.value={name:t.name,direction:"asc"},i()},Xe=t=>{try{j.value=Number(t.target.value),i()}catch(a){console.error(a)}};return ye(()=>{u()}),Le(k,(t,a)=>{i(),ee()},{immediate:!0}),[d,$]=vt(()=>u()),await d,$(),(t,a)=>{const o=et,l=gt,w=bt,Ce=zt,pe=_t,ve=Ut,Ye=oe,Ze=Ht;return c(),g("div",L({class:[f(r).wrapper,"w-full p-4"]},f(z)),[n.header?(c(),g("div",{key:0,class:B(f(r).header)},[n.header?(c(),N(o,{key:0,value:n.header},null,8,["value"])):M("",!0)],2)):M("",!0),y("div",{class:B(f(r).base)},[y("div",{class:B(f(r).search)},[y("div",Nt,[y("div",Vt,[Tt,y("select",{class:"",onChange:Xe},[(c(!0),g(x,null,J(f(p),C=>(c(),g("option",{key:C,value:C,class:B({selected:f(j)===C})},W(C),11,qt))),128)),y("option",{value:"-1",key:"-1",class:B({selected:f(j)===-1})},"All",2)],32)]),y("div",Rt,[y("button",{onClick:Re,class:"hover:scale-125",title:"Download CSV file"},[F(l,{name:"i-carbon-download"})])]),y("div",Gt,[F(w,{modelValue:H.value,"onUpdate:modelValue":a[0]||(a[0]=C=>H.value=C),type:"text",onKeyup:Ke,placeholder:"type a token to search for"},null,8,["modelValue"])])])],2),y("div",{class:B(f(r).filter)},[F(ve,{items:f(A),color:"primary",variant:"solid",size:"sm",class:"not-prose"},{"quick-filters":R(()=>[y("div",{class:B(Te())},[(c(!0),g(x,null,J(n.columns,C=>(c(),g(x,null,[C.filter?(c(),g("div",Kt,[F(Ce,{label:C.title,class:"py-4"},null,8,["label"]),y("ul",Qt,[(c(!0),g(x,null,J(Object.keys(f(b)[C.name]),q=>(c(),g("li",{"data-filter-key":C.name,"data-filter-value":q,onClick:Qe,class:B(["list-none flex justify-between p-2 hover:cursor-pointer",[He(C.name,q)?f(r).tr.selected:"",f(r).tr.active]])},[y("span",null,W(q),1),F(pe,null,{default:R(()=>[de(W(f(b)[C.name][q]),1)]),_:2},1024)],10,Jt))),256))])])):M("",!0)],64))),256))],2)]),_:1},8,["items"])],2),y("div",Wt,[y("table",{class:B([f(r).table,"min-w-full"])},[y("thead",{calss:f(r).thead},[y("tr",{ui:f(r)},[(c(!0),g(x,null,J(n.columns,C=>(c(),g(x,null,[C.hide!==!0?(c(),g("th",{key:0,class:B([f(r).th.base,f(r).th.padding,f(r).th.color,f(r).th.font,f(r).th.size])},[C.sortable?(c(),N(Ye,L({key:0,ref_for:!0},{...f(Y).default.sortButton},{icon:Ve(C),onClick:q=>We(C)}),{default:R(()=>[y("span",{innerHTML:ke(C),class:"not-prose"},null,8,Zt)]),_:2},1040,["icon","onClick"])):(c(),g("span",{key:1,innerHTML:ke(C),class:"not-prose"},null,8,ea))],2)):M("",!0)],64))),256))],8,Yt)],8,Xt),y("tbody",{calss:f(r).tbody},[(c(!0),g(x,null,J(f(_),(C,q)=>(c(),g("tr",{key:`${q}-${Date.now()}`,id:`${q}-${Date.now()}`,calss:f(r).tr.base},[(c(!0),g(x,null,J(n.columns,(le,la)=>(c(),g(x,{key:`${le.name}-${q}-${Date.now()}`},[le.hide?M("",!0):(c(),g("td",{key:0,innerHTML:Ne(C,le),id:`${le.name}-${q}-${Date.now()}`,class:B([[f(r).td.base,f(r).td.padding,f(r).td.color,f(r).td.font,f(r).td.size],"not-prose"])},null,10,na))],64))),128))],8,aa))),128))],8,ta)],2)]),y("div",{class:B(f(r).pagination)},[y("div",sa,[y("div",oa,W(f(v)),1),F(Ze,{modelValue:P.value,"onUpdate:modelValue":a[1]||(a[1]=C=>P.value=C),"page-count":f(j),total:f(V),max:10,onClick:Ge,"show-last":"","show-first":""},null,8,["modelValue","page-count","total"])])],2)],2),n.footer?(c(),g("div",{key:1,class:B(f(r).footer)},[F(o,{value:n.footer},null,8,["value"])],2)):M("",!0)],16)}}});export{pa as default};
